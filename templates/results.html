<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mortgage Calculator Results</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4">Mortgage Calculator Results</h1>
        
        <div class="card mb-4">
            <div class="card-header">
                <h2 class="h4 mb-0">Mortgage Payment Details</h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Monthly Payment (Fixed Rate Period):</strong> {{ results.monthly_payment_first_period | round(2) | format_number }} IDR</p>
                        <p><strong>Monthly Payment (Floating Rate Period):</strong> {{ results.monthly_payment_subsequent | round(2) | format_number }} IDR</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Total Mortgage Cost:</strong> {{ results.total_mortgage_cost | round(2) | format_number }} IDR</p>
                        <p><strong>Total Interest Paid:</strong> {{ results.total_interest_paid | round(2) | format_number }} IDR</p>
                        <p><strong>Total Principal Paid:</strong> {{ results.total_principal_paid | round(2) | format_number }} IDR</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-header">
                <h2 class="h4 mb-0">Buy vs. Rent Comparison</h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Total Rent Cost:</strong> {{ results.total_rent_cost | round(2) | format_number }} IDR</p>
                        <p><strong>Total Investment Growth:</strong> {{ results.total_investment_growth | round(2) | format_number }} IDR</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Financial Recommendation:</strong> 
                            {% if results.is_buying_cheaper %}
                            <span class="badge bg-success">Buying is Better</span>
                            <p>Net benefit: {{ results.net_benefit_buying | round(2) | format_number }} IDR</p>
                            {% else %}
                            <span class="badge bg-primary">Renting is Better</span>
                            <p>Net benefit: {{ (results.net_benefit_buying | abs) | round(2) | format_number }} IDR</p>
                            {% endif %}
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h2 class="h4 mb-0">Yearly Summary</h2>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Year</th>
                                <th>Avg. Mortgage Payment</th>
                                <th>Avg. Rent</th>
                                <th>Investment Growth</th>
                                <th>Principal Paid</th>
                                <th>Interest Paid</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for year_data in results.yearly_summary %}
                            <tr>
                                <td>{{ year_data.year }}</td>
                                <td>{{ year_data.average_mortgage_payment | round(2) | format_number }}</td>
                                <td>{{ year_data.average_rent | round(2) | format_number }}</td>
                                <td>{{ year_data.yearly_investment_growth | round(2) | format_number }}</td>
                                <td>{{ year_data.total_principal_paid | round(2) | format_number }}</td>
                                <td>{{ year_data.total_interest_paid | round(2) | format_number }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="mt-4">
            <a href="/" class="btn btn-primary">Return to Calculator</a>
        </div>
    </div>
</body>
</html>